"#### Load Plugins ####

loadplugins '\.(js|penta)$'

"#### Misc Options ####

" set ddg as default search engine
set defsearch=ddg

map , <Leader>
" set guioptions=bCrsBmT
" (b)ottom scrollbar, (C) always show command outside of status, (r) right scroll, (s) status
" (B) bookmark bar, (T) Toolbar
set guioptions=bCrsT
" set titlestring=Mozilla\ Firefox

" Edit rc file
cmap <Leader>r :!gvim $HOME/.pentadactylrc"

"#### Command Shortcuts ####

" Google Misc 
com docs open https://docs.google.com/
com contacts open https://www.google.com/contacts
com m open https://www.gmail.com

" Mozilla Misc
com buzilla open https://bugzilla.mozilla.org
com zimbra open https://mail.mozilla.com/zimbra
com mozwiki open https://wiki.mozilla.org
com mozether open https://etherpad.mozilla.org
com som open http://stackoverflow.com/r/mozilla

" Other Apps
com campfire open https://stumptownsyndicate.campfirenow.com
com osbether open http://etherpad.opensourcebridge.org
com difm open http://www.di.fm
com zmail open https://server.zmailcloud.com/
com gh open https://github.com/christi3k

group user
" vim: set ft=pentadactyl:

" toggle nav toolbar
nmap <C-l> :toolbartoggle Navigation Toolbar<CR>

" toggle bookmarks toolbar
nmap <C-S-b> :toolbartoggle Bookmarks Toolbar<CR>

" passthrough on all google sites
autocmd LocationChange google.com :normal! <C-z>
autocmd LocationChange etherpad.mozilla.org :normal! <C-z>
autocmd LocationChange etherpad.samadhilabs.org :normal! <C-z>

" passthrough these sites that don't play nicely with penta
autocmd LocationChange google.com :normal! <C-z>
autocmd LocationChange etherpad.mozilla.org :normal! <C-z>
autocmd LocationChange etherpad.samadhilabs.org :normal! <C-z>
autocmd LocationChange draftin.com :normal! <C-z>

" setup pinboard shortcut
nmap <C-S-d> :pinboard<CR>

" set command for pinboard bookmark

command! pinboard :open javascript:(function(){q=location.href;if(document.getSelection){d=document.getSelection();}else{d='';};p=document.title;void(open('https://pinboard.in/add?showtags=yes&url='+encodeURIComponent(q)+'&description='+encodeURIComponent(d)+'&title='+encodeURIComponent(p),'Pinboard',%20'toolbar=no,width=700,height=600'))})()
